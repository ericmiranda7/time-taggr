(this["webpackJsonptime-taggr"]=this["webpackJsonptime-taggr"]||[]).push([[0],{89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(15),c=n.n(r),i=n(96),s=n(98),l=n(95),u=n(1),o=function(){return Object(u.jsxs)(i.a,{bg:"dark",expand:"lg",variant:"dark",children:[Object(u.jsx)(i.a.Brand,{href:"#home",children:"Time-Taggr"}),Object(u.jsx)(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(i.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(s.a,{className:"mr-auto",children:[Object(u.jsx)(s.a.Link,{href:"#home",children:"Home"}),Object(u.jsx)(s.a.Link,{href:"#link",children:"Link"}),Object(u.jsxs)(l.a,{title:"Dropdown",id:"basic-nav-dropdown",children:[Object(u.jsx)(l.a.Item,{href:"#action/3.1",children:"Action"}),Object(u.jsx)(l.a.Item,{href:"#action/3.2",children:"Another action"}),Object(u.jsx)(l.a.Item,{href:"#action/3.3",children:"Something"}),Object(u.jsx)(l.a.Divider,{}),Object(u.jsx)(l.a.Item,{href:"#action/3.4",children:"Separated link"})]})]})})]})},d=n(10),j=n(6),m={startTime:null,running:!1,duration:null,diff:null,hours:null,minutes:null,seconds:null,completedTime:0,expired:null,stopped:null,pause:null},b=null,p=function(e){return{type:"SET_DURATION",payload:{duration:60*e.duration}}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DURATION":var n,a=(null===(n=t.payload)||void 0===n?void 0:n.duration)||e.duration,r=a/3600|0,c=(a/60|0)%60,i="00";return c=c<10?"0"+c:c,r=r<10?"0"+r:r,Object(j.a)(Object(j.a)({},e),{},{duration:a,hours:r,minutes:c,seconds:i,running:!1});case"START_TIMER":var s=Date.now();return Object(j.a)(Object(j.a)({},e),{},{startTime:s,running:!0});case"TICK":var l=e.duration-((Date.now()-e.startTime)/1e3|0),u=l/3600|0,o=(l/60|0)%60,d=l%60|0;u=u<10?"0"+u:u,o=o<10?"0"+o:o,d=d<10?"0"+d:d;var p,O=!1;return l<=0&&(O=!0,clearInterval(b),p=e.duration),Object(j.a)(Object(j.a)({},e),{},{diff:l,hours:u,minutes:o,seconds:d,completedTime:p,expired:O});case"STOP_TIMER":var f=e.duration-e.diff;return Object(j.a)(Object(j.a)({},e),{},{completedTime:f,stopped:!0,running:!1,pause:null});case"PAUSE_TIMER":return clearInterval(b),Object(j.a)(Object(j.a)({},e),{},{pause:Date.now(),running:!1});case"RESUME_TIMER":var h=Date.now()-e.pause+e.startTime;return Object(j.a)(Object(j.a)({},e),{},{startTime:h,running:!0});case"CONSUME_COMPLETED_TIME":return Object(j.a)(Object(j.a)({},e),{},{expired:!1,stopped:!1});default:return e}},f=n(40),h=n(23),x=n.n(h),v=n(35),g=n(54),T=n.n(g),y={getAll:function(){var e=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/api/tags");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},N=[{name:"Study",color:"blue",isSelected:!0,duration:25,completedTime:0},{name:"Read",color:"green",isSelected:!1,duration:25,completedTime:0},{name:"Break",color:"white",isSelected:!1,duration:70,completedTime:0}],E=function(e){return I(e,"Break")},I=function(e,t){return{type:"SET_TAG_DURATION",payload:{duration:e,tagName:t}}},S=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"INIT_TAG":return(e=console).log.apply(e,Object(f.a)(n.payload.tags)),Object(f.a)(n.payload.tags);case"ADD_TAG":return t.concat(n.payload.tag);case"MAKE_SELECTED":return t.map((function(e){return e.name===n.payload.tagName?Object(j.a)(Object(j.a)({},e),{},{isSelected:!0}):Object(j.a)(Object(j.a)({},e),{},{isSelected:!1})}));case"SET_TAG_DURATION":return"Break"===n.payload.tagName?t.map((function(e){return"Break"===e.name?Object(j.a)(Object(j.a)({},e),{},{duration:n.payload.duration}):e})):t.map((function(e){return e.isSelected?Object(j.a)(Object(j.a)({},e),{},{duration:n.payload.duration}):e}));case"ADD_COMPLETION":return t.map((function(e){return e.name===n.payload.tagName?Object(j.a)(Object(j.a)({},e),{},{completedTime:e.completedTime+n.payload.completedTime}):e}));default:return t}},k=n(52),C=function(e){var t=e.timer,n={clock:{height:"350px",width:"350px",display:"flex",justifyContent:"center",alignItems:"center",borderStyle:"solid",borderWidth:"0.5em"},"time-text":{fontSize:"50px"}};return Object(u.jsx)("div",{className:"mx-auto rounded-circle",style:n.clock,children:Object(u.jsxs)("p",{className:"mb-0",style:n["time-text"],children:[t.hours,":",t.minutes,":",t.seconds]})})},A=function(e){var t=e.variant,n=e.text,a=e.handleClick;return Object(u.jsx)(k.a,{variant:t,className:"mx-auto mb-1",onClick:a,style:{width:"175px",display:"block"},children:n})},w=function(e){var t=e.timer,n=e.dispatch,a=e.selectedTag,r=function(){return function(e,t){clearInterval(b),e(p(t)),e({type:"STOP_TIMER"})}(n,a)};return t.running?Object(u.jsxs)("div",{children:[Object(u.jsx)(A,{variant:"primary",text:"Pause",handleClick:function(){return n({type:"PAUSE_TIMER"})}}),Object(u.jsx)(A,{variant:"danger",text:"Stop",handleClick:r})]}):Object(u.jsx)("div",{children:t.pause?Object(u.jsxs)("div",{children:[Object(u.jsx)(A,{variant:"primary",text:"Resume",handleClick:function(){return function(e){e({type:"RESUME_TIMER"}),e({type:"TICK"}),b=setInterval((function(){e({type:"TICK"})}),1e3)}(n)}}),Object(u.jsx)(A,{variant:"danger",text:"Stop",handleClick:r})]}):Object(u.jsx)(A,{variant:"primary",text:"Start",handleClick:function(){return function(e){e({type:"START_TIMER"}),e({type:"TICK"}),b=setInterval((function(){e({type:"TICK"})}),1e3)}(n)}})})},_=function(){var e=Object(d.c)((function(e){return e.timer})),t=Object(d.c)((function(e){return e.tags.find((function(e){return e.isSelected}))})),n=Object(d.b)();return Object(a.useEffect)((function(){n(p(t||0))}),[n,t]),Object(a.useEffect)((function(){var a,r;(e.expired||e.stopped)&&(n((a=null===t||void 0===t?void 0:t.name,r=e.completedTime,{type:"ADD_COMPLETION",payload:{tagName:a,completedTime:r}})),n({type:"CONSUME_COMPLETED_TIME"}))}),[n,t,e]),Object(u.jsxs)("div",{children:[Object(u.jsx)(C,{timer:e}),Object(u.jsxs)("div",{className:"align-items-center mt-3",children:[Object(u.jsx)(w,{timer:e,dispatch:n,selectedTag:t}),Object(u.jsxs)("p",{className:"text-center",children:["Completed time tag: ",null===t||void 0===t?void 0:t.completedTime," seconds"]})]})]})},D=n(97),M=n(99),R={duration:{width:"4em",textAlign:"right"},spanAlignCenter:{alignItems:"center"}},B=function(e){var t=e.selectedTag,n=Object(d.c)((function(e){return e.timer})),a=Object(d.c)((function(e){var t=e.tags.find((function(e){return"Break"===e.name}));return{minutes:t.duration%60,hours:t.duration/60|0}})),r={minutes:t.duration%60,hours:t.duration/60|0},c=Object(d.b)(),i=function(e){if(e.target.name.includes("break")){var t=60*Number(e.target.value)+a.minutes;c(E(t))}else{var n=60*Number(e.target.value)+Number(r.minutes);c(I(n))}},s=function(e){if(e.target.name.includes("break")){var t=60*a.hours+Number(e.target.value);c(E(t))}else{var n=Number(e.target.value)+60*Number(r.hours);c(I(n))}e.target.value>59&&(e.target.value="")},l=function(e){return e.target.value=""};return Object(u.jsxs)("div",{className:"d-flex justify-content-end flex-column",children:[Object(u.jsxs)("div",{className:"d-flex flex-row",children:[Object(u.jsx)("span",{className:"d-inline-flex flex-grow-1",style:R.spanAlignCenter,children:"Work"}),Object(u.jsx)("input",{className:"mr-1",type:"number",onChange:i,onBlur:l,style:R.duration,name:"hours",placeholder:n.hours+"H"}),Object(u.jsx)("input",{type:"number",onChange:s,onBlur:l,style:R.duration,name:"minutes",placeholder:n.minutes+"M"})]}),Object(u.jsxs)("div",{className:"d-flex flex-row mt-1",children:[Object(u.jsx)("span",{className:"d-inline-flex flex-grow-1",style:R.spanAlignCenter,children:"Break"}),Object(u.jsx)("input",{className:"mr-1",type:"number",onBlur:l,onChange:i,style:R.duration,name:"breakHours",placeholder:a.hours+"H"}),Object(u.jsx)("input",{type:"number",onChange:s,onBlur:l,style:R.duration,name:"breakMinutes",placeholder:a.minutes+"M"})]})]})},U=function(){var e=Object(d.c)((function(e){return e.tags})),t=Object(d.b)();return Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("span",{className:"flex-grow-1",children:"Select Tag"}),Object(u.jsx)("select",{onChange:function(e){var n=e.target.value;t(function(e){return{type:"MAKE_SELECTED",payload:{tagName:e}}}(n))},style:{width:"8.2em"},defaultValue:e.filter((function(e){return e.isSelected})).name,children:e.map((function(e,t){return Object(u.jsx)("option",{value:e.name,children:e.name},t)}))})]})},L=function(){var e=Object(d.b)();return Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("span",{className:"d-inline-flex flex-grow-1",style:R.spanAlignCenter,children:"Add Tag"}),Object(u.jsx)("input",{className:"",style:{width:"8.2em"},onKeyDown:function(t){if("Enter"===t.key){var n={name:t.target.value,color:"gray"};t.target.value="",e(function(e){return{type:"ADD_TAG",payload:{tag:Object(j.a)(Object(j.a)({},e),{},{completedTime:0,duration:25})}}}(n))}}})]})},P=function(){var e=Object(d.c)((function(e){return e.tags.find((function(e){return e.isSelected}))}));return Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsxs)(D.a,{style:{width:"18rem"},children:[Object(u.jsx)(D.a.Header,{children:"Settings"}),Object(u.jsxs)(M.a,{variant:"flush",children:[Object(u.jsx)(M.a.Item,{children:Object(u.jsx)(B,{selectedTag:e})}),Object(u.jsx)(M.a.Item,{children:Object(u.jsx)(U,{})}),Object(u.jsx)(M.a.Item,{children:Object(u.jsx)(L,{})})]})]})})},K=function(){var e,t=Object(d.c)((function(e){return e.tags})),n=Object(d.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getAll();case 2:n=e.sent,t({type:"INIT_TAG",payload:{tags:n}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n]),Object(u.jsxs)("div",{children:[Object(u.jsx)(o,{}),Object(u.jsxs)("div",{className:"container mt-4 d-flex flex-column align-items-center",children:[Object(u.jsx)("h2",{children:null===(e=t.find((function(e){return e.isSelected})))||void 0===e?void 0:e.name}),Object(u.jsx)(_,{}),Object(u.jsx)("div",{className:"text-center",children:"tags"}),Object(u.jsx)(P,{})]})]})},G=n(27),H=n(55),W=n(56),J=Object(G.combineReducers)({timer:O,tags:S}),z=Object(G.createStore)(J,Object(H.composeWithDevTools)(Object(G.applyMiddleware)(W.a)));n(89);c.a.render(Object(u.jsx)(d.a,{store:z,children:Object(u.jsx)(K,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.2d5ef902.chunk.js.map