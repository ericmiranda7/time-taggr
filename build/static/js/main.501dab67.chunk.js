(this["webpackJsonptime-taggr"]=this["webpackJsonptime-taggr"]||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(15),c=n.n(r),i=n(112),s=n(114),l=n(111),u=n(1),o=function(){return Object(u.jsxs)(i.a,{bg:"dark",expand:"lg",variant:"dark",children:[Object(u.jsx)(i.a.Brand,{href:"#home",children:"Time-Taggr"}),Object(u.jsx)(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(u.jsx)(i.a.Collapse,{id:"basic-navbar-nav",children:Object(u.jsxs)(s.a,{className:"mr-auto",children:[Object(u.jsx)(s.a.Link,{href:"#home",children:"Home"}),Object(u.jsx)(s.a.Link,{href:"#link",children:"Link"}),Object(u.jsxs)(l.a,{title:"Dropdown",id:"basic-nav-dropdown",children:[Object(u.jsx)(l.a.Item,{href:"#action/3.1",children:"Action"}),Object(u.jsx)(l.a.Item,{href:"#action/3.2",children:"Another action"}),Object(u.jsx)(l.a.Item,{href:"#action/3.3",children:"Something"}),Object(u.jsx)(l.a.Divider,{}),Object(u.jsx)(l.a.Item,{href:"#action/3.4",children:"Separated link"})]})]})})]})},d=n(11),j=n(7),b={startTime:null,running:!1,duration:null,diff:null,hours:null,minutes:null,seconds:null,completedTime:0,expired:null,stopped:null,pause:null},m=null,p=function(e){return{type:"SET_DURATION",payload:{duration:60*e.duration}}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DURATION":var n,a=(null===(n=t.payload)||void 0===n?void 0:n.duration)||e.duration,r=a/3600|0,c=(a/60|0)%60,i="00";return c=c<10?"0"+c:c,r=r<10?"0"+r:r,Object(j.a)(Object(j.a)({},e),{},{duration:a,hours:r,minutes:c,seconds:i,running:!1});case"START_TIMER":var s=Date.now();return Object(j.a)(Object(j.a)({},e),{},{startTime:s,running:!0});case"TICK":var l=e.duration-((Date.now()-e.startTime)/1e3|0),u=l/3600|0,o=(l/60|0)%60,d=l%60|0;u=u<10?"0"+u:u,o=o<10?"0"+o:o,d=d<10?"0"+d:d;var p,O=!1;return l<=0&&(O=!0,clearInterval(m),p=e.duration),Object(j.a)(Object(j.a)({},e),{},{diff:l,hours:u,minutes:o,seconds:d,completedTime:p,expired:O});case"STOP_TIMER":var f=e.duration-e.diff;return Object(j.a)(Object(j.a)({},e),{},{completedTime:f,stopped:!0,running:!1,pause:null});case"PAUSE_TIMER":return clearInterval(m),Object(j.a)(Object(j.a)({},e),{},{pause:Date.now(),running:!1});case"RESUME_TIMER":var h=Date.now()-e.pause+e.startTime;return Object(j.a)(Object(j.a)({},e),{},{startTime:h,running:!0});case"CONSUME_COMPLETED_TIME":return Object(j.a)(Object(j.a)({},e),{},{expired:!1,stopped:!1});default:return e}},f=n(31),h=n(19),x=n.n(h),v=n(26),g=n(43),T=n.n(g),y="/api/tags",E={getAll:function(){var e=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get(y);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),createTag:function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post(y,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=[{name:"Study",value:"study",color:"blue",isSelected:!0,duration:25,completedTime:0,id:1},{name:"Workout",value:"workout",color:"green",isSelected:!1,duration:25,completedTime:0,id:2},{name:"Break",value:"break",color:"white",isSelected:!1,duration:70,completedTime:0,id:3}],k=function(e){return N(e,"break")},N=function(e,t){return{type:"SET_TAG_DURATION",payload:{duration:e,tagValue:t}}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_TAG":return Object(f.a)(t.payload.tags);case"ADD_TAG":return console.log(t.payload.tag),e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{isSelected:!1})})).concat(t.payload.tag);case"MAKE_SELECTED":return e.map((function(e){return e.value===t.payload.tagValue?Object(j.a)(Object(j.a)({},e),{},{isSelected:!0}):Object(j.a)(Object(j.a)({},e),{},{isSelected:!1})}));case"SET_TAG_DURATION":return"Break"===t.payload.tagValue?e.map((function(e){return"break"===e.value?Object(j.a)(Object(j.a)({},e),{},{duration:t.payload.duration}):e})):e.map((function(e){return e.isSelected?Object(j.a)(Object(j.a)({},e),{},{duration:t.payload.duration}):e}));case"ADD_COMPLETION":return e.map((function(e){return e.value===t.payload.tagValue?Object(j.a)(Object(j.a)({},e),{},{completedTime:e.completedTime+t.payload.completedTime}):e}));default:return e}},w=n(56),C=function(e){var t=e.timer,n={clock:{height:"350px",width:"350px",display:"flex",justifyContent:"center",alignItems:"center",borderStyle:"solid",borderWidth:"0.5em"},"time-text":{fontSize:"50px"}};return Object(u.jsx)("div",{className:"mx-auto rounded-circle",style:n.clock,children:Object(u.jsxs)("p",{className:"mb-0",style:n["time-text"],children:[t.hours,":",t.minutes,":",t.seconds]})})},A=function(e){var t=e.variant,n=e.text,a=e.handleClick;return Object(u.jsx)(w.a,{variant:t,className:"mx-auto mb-1",onClick:a,style:{width:"175px",display:"block"},children:n})},_=function(e){var t=e.timer,n=e.dispatch,a=e.selectedTag,r=function(){return function(e,t){clearInterval(m),e(p(t)),e({type:"STOP_TIMER"})}(n,a)};return t.running?Object(u.jsxs)("div",{children:[Object(u.jsx)(A,{variant:"primary",text:"Pause",handleClick:function(){return n({type:"PAUSE_TIMER"})}}),Object(u.jsx)(A,{variant:"danger",text:"Stop",handleClick:r})]}):Object(u.jsx)("div",{children:t.pause?Object(u.jsxs)("div",{children:[Object(u.jsx)(A,{variant:"primary",text:"Resume",handleClick:function(){return function(e){e({type:"RESUME_TIMER"}),e({type:"TICK"}),m=setInterval((function(){e({type:"TICK"})}),1e3)}(n)}}),Object(u.jsx)(A,{variant:"danger",text:"Stop",handleClick:r})]}):Object(u.jsx)(A,{variant:"primary",text:"Start",handleClick:function(){return function(e){e({type:"START_TIMER"}),e({type:"TICK"}),m=setInterval((function(){e({type:"TICK"})}),1e3)}(n)}})})},D=function(){var e=Object(d.c)((function(e){return e.timer})),t=Object(d.c)((function(e){return e.tags.find((function(e){return e.isSelected}))})),n=Object(d.b)();return Object(a.useEffect)((function(){n(p(t||0))}),[n,t]),Object(a.useEffect)((function(){var a,r;(e.expired||e.stopped)&&(n((a=null===t||void 0===t?void 0:t.value,r=e.completedTime,{type:"ADD_COMPLETION",payload:{tagValue:a,completedTime:r}})),n({type:"CONSUME_COMPLETED_TIME"}))}),[n,t,e]),Object(u.jsxs)("div",{children:[Object(u.jsx)(C,{timer:e}),Object(u.jsxs)("div",{className:"align-items-center mt-3",children:[Object(u.jsx)(_,{timer:e,dispatch:n,selectedTag:t}),t.completedTime>0?Object(u.jsxs)("p",{className:"text-center",children:["You have completed ",null===t||void 0===t?void 0:t.completedTime," seconds of ",t.name.toLowerCase()]}):Object(u.jsxs)("p",{className:"text-center",children:["You haven't put in any time on ",t.name.toLowerCase()]})]})]})},M=n(113),R=n(115),L=n(60),U={duration:{width:"4em",textAlign:"right"},spanAlignCenter:{alignItems:"center"}},B=function(e){var t=e.selectedTag,n=e.isTimerRunning,a=Object(d.c)((function(e){var t=e.tags.find((function(e){return"break"===e.value}));return{minutes:t.duration%60,hours:t.duration/60|0}})),r={minutes:t.duration%60,hours:t.duration/60|0},c=Object(d.b)(),i=function(e){if(e.target.name.includes("break")){var t=60*Number(e.target.value)+a.minutes;c(k(t))}else{var n=60*Number(e.target.value)+Number(r.minutes);c(N(n))}},s=function(e){if(e.target.name.includes("break")){var t=60*a.hours+Number(e.target.value);c(k(t))}else{var n=Number(e.target.value)+60*Number(r.hours);c(N(n))}e.target.value>59&&(e.target.value="")},l=function(e){return e.target.value=""};return Object(u.jsxs)("div",{className:"d-flex justify-content-end flex-column",children:[Object(u.jsxs)("div",{className:"d-flex flex-row",children:[Object(u.jsx)("span",{className:"d-inline-flex flex-grow-1",style:U.spanAlignCenter,children:"Work"}),Object(u.jsx)("input",{className:"mr-1",disabled:n,type:"number",onChange:i,onBlur:l,style:U.duration,name:"hours",placeholder:r.hours+"H"}),Object(u.jsx)("input",{type:"number",odisabled:n,nChange:s,onBlur:l,style:U.duration,name:"minutes",placeholder:r.minutes+"M"})]}),Object(u.jsxs)("div",{className:"d-flex flex-row mt-1",children:[Object(u.jsx)("span",{className:"d-inline-flex flex-grow-1",style:U.spanAlignCenter,children:"Break"}),Object(u.jsx)("input",{className:"mr-1",disabled:n,type:"number",onBlur:l,onChange:i,style:U.duration,name:"breakHours",placeholder:a.hours+"H"}),Object(u.jsx)("input",{type:"number",disabled:n,onChange:s,onBlur:l,style:U.duration,name:"breakMinutes",placeholder:a.minutes+"M"})]})]})},P=function(e){var t=e.isTimerRunning,n=Object(d.b)();return Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("span",{className:"d-inline-flex flex-grow-1",style:U.spanAlignCenter,children:"Add Tag"}),Object(u.jsx)("input",{className:"",style:{width:"8.2em"},onKeyDown:function(e){if("Enter"===e.key){var t={name:e.target.value,color:"gray"};e.target.value="",n(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.createTag(e);case 2:a=t.sent,n({type:"ADD_TAG",payload:{tag:a}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}},disabled:t})]})},K=function(e){var t=e.options,n=e.dispatch,a=e.isTimerRunning;return Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("span",{className:"d-inline-flex flex-grow-1",style:U.spanAlignCenter,children:"Select Tag"}),Object(u.jsx)("div",{style:{width:"8.2em"},children:Object(u.jsx)(L.a,{options:t,onChange:function(e){n({type:"MAKE_SELECTED",payload:{tagValue:e.value}})},isDisabled:a})})]})},G=function(){var e=Object(d.c)((function(e){return e.tags})),t=e.find((function(e){return e.isSelected})),n=Object(d.c)((function(e){return e.timer.running||e.timer.pause})),a=Object(d.b)(),r=e.map((function(e){return{value:e.value,label:e.name}}));return Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsxs)(M.a,{style:{width:"18rem"},children:[Object(u.jsx)(M.a.Header,{children:"Settings"}),Object(u.jsxs)(R.a,{variant:"flush",children:[Object(u.jsx)(R.a.Item,{children:Object(u.jsx)(B,{selectedTag:t,isTimerRUnning:n})}),Object(u.jsx)(R.a.Item,{children:Object(u.jsx)(K,{selectedTag:t,options:r,dispatch:a,isTimerRunning:n})}),Object(u.jsx)(R.a.Item,{children:Object(u.jsx)(P,{isTimerRunning:n})})]})]})})},V=function(){var e,t=Object(d.c)((function(e){return e.tags})),n=Object(d.b)();return Object(a.useEffect)((function(){n(function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getAll();case 2:n=e.sent,t({type:"INIT_TAG",payload:{tags:n}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n]),Object(u.jsxs)("div",{children:[Object(u.jsx)(o,{}),Object(u.jsxs)("div",{className:"container mt-4 d-flex flex-column align-items-center",children:[Object(u.jsx)("h2",{children:null===(e=t.find((function(e){return e.isSelected})))||void 0===e?void 0:e.name}),Object(u.jsx)(D,{}),Object(u.jsx)(G,{})]})]})},H=n(30),W=n(58),J=n(59),Y=Object(H.combineReducers)({timer:O,tags:S}),z=Object(H.createStore)(Y,Object(W.composeWithDevTools)(Object(H.applyMiddleware)(J.a)));n(105);c.a.render(Object(u.jsx)(d.a,{store:z,children:Object(u.jsx)(V,{})}),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.501dab67.chunk.js.map